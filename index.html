<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Suomalaiset Twitch-striimaajat</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    background: linear-gradient(-45deg, #0d1117, #161b22, #0d1117, #161b22);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
    overflow-x: hidden;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  /* Partikkelit taustalle */
  .particle {
    position: fixed;
    background: rgba(74, 222, 128, 0.4);
    border-radius: 50%;
    pointer-events: none;
    animation-timing-function: ease-in-out;
    opacity: 0.7;
    filter: drop-shadow(0 0 4px #4ade80);
  }

  /* Animaatiot kortteihin */
  .fade-in {
    animation: fadeInUp 0.6s ease forwards;
    opacity: 0;
    transform: translateY(10px);
  }
  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Scrollbar tyylit */
  ::-webkit-scrollbar {
    width: 10px;
  }
  ::-webkit-scrollbar-track {
    background: #161b22;
  }
  ::-webkit-scrollbar-thumb {
    background: #4ade80;
    border-radius: 10px;
  }

  /* Streamer boxien eri tyylit */

  /* J1mPPaZ */
  .card-j1mppaz {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: #ecfccb;
    border-radius: 1.5rem;
    box-shadow: 0 0 20px #22c55e88;
    padding: 1.8rem;
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    text-align: center;
  }
  .card-j1mppaz:hover {
    transform: scale(1.08) rotate(-2deg);
    box-shadow: 0 0 40px #22c55ecc;
  }

  /* Skotti */
  .card-skotti {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: #dbeafe;
    border-radius: 2rem 0.5rem 2rem 0.5rem;
    padding: 2rem;
    box-shadow: 0 0 25px #3b82f688;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    text-align: left;
  }
  .card-skotti:hover {
    transform: scale(1.07) translateX(8px);
    box-shadow: 0 0 45px #3b82febf;
  }

  /* Gargee */
  .card-gargee {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    color: #ede9fe;
    border-radius: 0.5rem 2rem 0.5rem 2rem;
    padding: 1.5rem 2rem;
    box-shadow: 0 0 20px #8b5cf688;
    transition: transform 0.35s ease, box-shadow 0.35s ease;
    text-align: right;
  }
  .card-gargee:hover {
    transform: scale(1.06) translateX(-10px);
    box-shadow: 0 0 40px #8b5cf6bf;
  }

  /* Lewaaw */
  .card-lewaaw {
    background: linear-gradient(135deg, #f97316, #ea580c);
    color: #fff7ed;
    border-radius: 2rem;
    padding: 2rem;
    box-shadow: 0 0 25px #f9731688;
    text-align: center;
    transition: transform 0.4s ease, box-shadow 0.4s ease;
  }
  .card-lewaaw:hover {
    transform: scale(1.1);
    box-shadow: 0 0 50px #f97316cc;
  }

  /* Novicci */
  .card-novicci {
    background: linear-gradient(135deg, #f43f5e, #be123c);
    color: #fee2e2;
    border-radius: 1.5rem 0.5rem 1.5rem 0.5rem;
    padding: 1.8rem;
    box-shadow: 0 0 20px #f43f5e88;
    text-align: left;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .card-novicci:hover {
    transform: scale(1.05) rotate(3deg);
    box-shadow: 0 0 40px #f43f5ecf;
  }

  /* Hukkaw */
  .card-hukkaw {
    background: linear-gradient(135deg, #14b8a6, #0f766e);
    color: #d1fae5;
    border-radius: 0.5rem 1.5rem 0.5rem 1.5rem;
    padding: 2rem 1.8rem;
    box-shadow: 0 0 20px #14b8a688;
    text-align: right;
    transition: transform 0.4s ease, box-shadow 0.4s ease;
  }
  .card-hukkaw:hover {
    transform: scale(1.07) translateY(-8px);
    box-shadow: 0 0 45px #14b8a6cc;
  }

  /* Katso TwitchissÃ¤ nappi */
  .btn-twitch {
    background: #4ade80;
    color: #1a1a1a;
    padding: 0.7rem 1.6rem;
    border-radius: 0.8rem;
    font-weight: 600;
    margin-top: 1.5rem;
    display: inline-block;
    box-shadow: 0 4px 12px #4ade8077;
    transition: background-color 0.3s ease, transform 0.3s ease;
    cursor: pointer;
  }
  .btn-twitch:hover {
    background-color: #22c55e;
    transform: scale(1.1);
  }

  /* Live status */
  .live-status {
    font-weight: 700;
    padding: 0.3rem 0.8rem;
    border-radius: 9999px;
    font-size: 0.9rem;
    display: inline-block;
    margin-bottom: 0.8rem;
    box-shadow: 0 0 10px;
  }
  .live-status.live {
    background-color: #dc2626;
    color: white;
    box-shadow: 0 0 20px #dc2626bb;
  }
  .live-status.offline {
    color: #94a3b8;
  }
</style>
</head>
<body class="text-white min-h-screen flex flex-col">

  <div class="max-w-5xl mx-auto p-6 flex-grow">
    <h1 class="text-4xl font-extrabold mb-8 text-center text-accent drop-shadow-lg">ðŸ‡«ðŸ‡® Suomalaiset Twitch-striimaajat</h1>

    <input
      type="text"
      id="search"
      placeholder="Etsi striimaajaa..."
      class="w-full p-4 mb-8 rounded-xl bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-accent transition"
      autocomplete="off"
    />

    <div id="streamer-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
  </div>

  <footer class="text-center text-gray-500 mb-6 select-none">Â© 2025 J1mPPaZ & Co</footer>

  <script>
    const streamers = [
      { name: 'J1mPPaZ', twitchId: 'j1mppaz', cardClass: 'card-j1mppaz' },
      { name: 'Skotti', twitchId: 'skotti', cardClass: 'card-skotti' },
      { name: 'Gargee', twitchId: 'gargee', cardClass: 'card-gargee' },
      { name: 'Lewaaw', twitchId: 'lewaaw', cardClass: 'card-lewaaw' },
      { name: 'Novicci', twitchId: 'novicci', cardClass: 'card-novicci' },
      { name: 'Hukkaw', twitchId: 'hukkaw', cardClass: 'card-hukkaw' },
    ];

    async function fetchStreamData(username) {
      try {
        const res = await fetch(`https://decapi.me/twitch/status/${username}`);
        const text = await res.text();
        const isLive = !text.toLowerCase().includes('offline');
        const viewersMatch = text.match(/\((\d+)\s+katsojaa/);
        const viewers = viewersMatch ? viewersMatch[1] : null;
        return { isLive, viewers, statusText: text };
      } catch {
        return { isLive: false, viewers: null, statusText: 'Tietoja ei saatavilla' };
      }
    }

    window.onload = async () => {
      const list = document.getElementById('streamer-list');

      for (const [i, s] of streamers.entries()) {
        const card = document.createElement('div');
        card.className = `${s.cardClass} fade-in`;
        card.style.animationDelay = (i * 0.12) + 's';
        card.setAttribute('data-name', s.name.toLowerCase());

        const twitchURL = `https://www.twitch.tv/${s.twitchId}`;
        const { isLive, viewers, statusText } = await fetchStreamData(s.twitchId);

        card.innerHTML = `
          <h2 class="text-2xl font-semibold mb-2">${s.name}</h2>
          <p class="mb-2 italic">${statusText}</p>
          ${
            isLive
              ? `<span class="live-status live">LIVE â€“ ${viewers || '?'} katsojaa</span>`
              : `<span class="live-status offline">OFFLINE-TILASSA</span>`
          }
          <br/>
          <a href="${twitchURL}" target="_blank" rel="noopener" class="btn-twitch">Katso TwitchissÃ¤</a>
        `;

        list.appendChild(card);
      }

      const searchInput = document.getElementById('search');
      const streamerCards = list.children;

      searchInput.addEventListener('input', (e) => {
        const value = e.target.value.toLowerCase();
        for (let card of streamerCards) {
          const name = card.dataset.name;
          card.style.display = name.includes(value) ? '' : 'none';
        }
      });
    };
  </script>
</body>
</html>
