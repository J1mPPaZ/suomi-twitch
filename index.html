<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Suomalaiset Twitch-striimaajat</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    background: linear-gradient(-45deg, #0d1117, #161b22, #0d1117, #161b22);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
    overflow-x: hidden;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  /* Animaatiot kortteihin */
  .fade-in {
    animation: fadeInUp 0.6s ease forwards;
    opacity: 0;
    transform: translateY(10px);
  }
  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Scrollbar tyylit */
  ::-webkit-scrollbar {
    width: 10px;
  }
  ::-webkit-scrollbar-track {
    background: #161b22;
  }
  ::-webkit-scrollbar-thumb {
    background: #4ade80;
    border-radius: 10px;
  }

  /* Streamer boxien eri tyylit */

  /* Taustakuvien hillityt overlayt */
  .card-background {
    background-size: cover;
    background-position: center;
    border-radius: 1.5rem;
    position: relative;
    color: white;
    box-shadow: 0 0 25px rgba(0,0,0,0.6);
  }
  .card-background::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.6);
    border-radius: 1.5rem;
    pointer-events: none;
  }
  .card-content {
    position: relative;
    padding: 2rem;
    z-index: 1;
    text-align: center;
  }

  /* J1mPPaZ */
  .card-j1mppaz {
    background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80');
  }

  /* Skotti */
  .card-skotti {
    background-image: url('https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=800&q=80');
    border-radius: 2rem 0.5rem 2rem 0.5rem;
  }

  /* Gargee */
  .card-gargee {
    background-image: url('https://images.unsplash.com/photo-1495567720989-cebdbdd97913?auto=format&fit=crop&w=800&q=80');
    border-radius: 0.5rem 2rem 0.5rem 2rem;
  }

  /* Lewaaw */
  .card-lewaaw {
    background-image: url('https://images.unsplash.com/photo-1468071174046-657d9d351a40?auto=format&fit=crop&w=800&q=80');
  }

  /* Novicci */
  .card-novicci {
    background-image: url('https://images.unsplash.com/photo-1470770841072-f978cf4d019e?auto=format&fit=crop&w=800&q=80');
    border-radius: 1.5rem 0.5rem 1.5rem 0.5rem;
  }

  /* Hukkaw */
  .card-hukkaw {
    background-image: url('https://images.unsplash.com/photo-1486308510493-cb6766c3396f?auto=format&fit=crop&w=800&q=80');
    border-radius: 0.5rem 1.5rem 0.5rem 1.5rem;
  }

  /* Hover efekti */
  .card-background:hover {
    box-shadow: 0 0 45px rgba(74, 222, 128, 0.8);
    transform: scale(1.07);
    transition: all 0.3s ease;
    z-index: 10;
  }
  .card-background {
    transition: all 0.3s ease;
  }

  /* Katso TwitchissÃ¤ nappi */
  .btn-twitch {
    background: #4ade80;
    color: #1a1a1a;
    padding: 0.7rem 1.6rem;
    border-radius: 0.8rem;
    font-weight: 600;
    margin-top: 1.5rem;
    display: inline-block;
    box-shadow: 0 4px 12px #4ade8077;
    transition: background-color 0.3s ease, transform 0.3s ease;
    cursor: pointer;
  }
  .btn-twitch:hover {
    background-color: #22c55e;
    transform: scale(1.1);
  }

  /* Live status */
  .live-status {
    font-weight: 700;
    padding: 0.3rem 0.8rem;
    border-radius: 9999px;
    font-size: 1rem;
    display: inline-block;
    margin-bottom: 1rem;
    box-shadow: 0 0 10px;
    text-transform: uppercase;
  }
  .live-status.live {
    background-color: #dc2626;
    color: white;
    box-shadow: 0 0 20px #dc2626bb;
  }
  .live-status.offline {
    background-color: transparent;
    color: #94a3b8;
    text-shadow: 0 0 6px #000000cc;
  }
</style>
</head>
<body class="text-white min-h-screen flex flex-col">

  <div class="max-w-5xl mx-auto p-6 flex-grow">
    <h1 class="text-4xl font-extrabold mb-8 text-center text-accent drop-shadow-lg">ðŸ‡«ðŸ‡® Suomalaiset Twitch-striimaajat</h1>

    <input
      type="text"
      id="search"
      placeholder="Etsi striimaajaa..."
      class="w-full p-4 mb-8 rounded-xl bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-accent transition"
      autocomplete="off"
    />

    <div id="streamer-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
  </div>

  <footer class="text-center text-gray-500 mb-6 select-none">Â© 2025 J1mPPaZ & Co</footer>

  <script>
    const streamers = [
      { name: 'J1mPPaZ', twitchId: 'j1mppaz', cardClass: 'card-j1mppaz' },
      { name: 'Skotti', twitchId: 'skotti', cardClass: 'card-skotti' },
      { name: 'Gargee', twitchId: 'gargee', cardClass: 'card-gargee' },
      { name: 'Lewaaw', twitchId: 'lewaaw', cardClass: 'card-lewaaw' },
      { name: 'Novicci', twitchId: 'novicci', cardClass: 'card-novicci' },
      { name: 'Hukkaw', twitchId: 'hukkaw', cardClass: 'card-hukkaw' },
    ];

    async function fetchStreamData(username) {
      try {
        const res = await fetch(`https://decapi.me/twitch/status/${username}`);
        const text = await res.text();
        const isLive = !text.toLowerCase().includes('offline');
        const viewersMatch = text.match(/\((\d+)\s+katsojaa/);
        const viewers = viewersMatch ? viewersMatch[1] : null;
        return { isLive, viewers, statusText: text };
      } catch {
        return { isLive: false, viewers: null, statusText: 'Tietoja ei saatavilla' };
      }
    }

    window.onload = async () => {
      const list = document.getElementById('streamer-list');

      for (const [i, s] of streamers.entries()) {
        const card = document.createElement('div');
        card.className = `card-background fade-in ${s.cardClass}`;
        card.style.animationDelay = (i * 0.12) + 's';
        card.setAttribute('data-name', s.name.toLowerCase());

        const twitchURL = `https://www.twitch.tv/${s.twitchId}`;
        const { isLive, viewers, statusText } = await fetchStreamData(s.twitchId);

        card.innerHTML = `
          <div class="card-content">
            <h2 class="text-2xl font-semibold mb-2">${s.name}</h2>
            <p class="mb-2 italic">${statusText}</p>
            ${
              isLive
                ? `<span class="live-status live">LIVE â€“ ${viewers || '?'} katsojaa</span>`
                : `<span class="live-status offline">OFFLINE-TILASSA</span>`
            }
            <br/>
            <a href="${twitchURL}" target="_blank" rel="noopener" class="btn-twitch">Katso TwitchissÃ¤</a>
          </div>
        `;

        list.appendChild(card);
      }

      const searchInput = document.getElementById('search');
      searchInput.addEventListener('input', (e) => {
        const val = e.target.value.toLowerCase();
        for (const card of list.children) {
          const name = card.getAttribute('data-name');
          card.style.display = name.includes(val) ? '' : 'none';
        }
      });
    };
  </script>
</body>
</html>
